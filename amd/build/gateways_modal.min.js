define(["jquery","core/modal_factory","core/modal_events","core/str","core/notification"],function(a,b,c,d,e){var f=function(a,f,g,h,i){d.get_string("pluginname","paygw_ezpay").then(function(c){return d.get_string("redirectingtoezpay","paygw_ezpay").then(function(d){return b.create({type:b.types.DEFAULT,title:c,body:'<div class="text-center"><p>'+d+'</p><div class="spinner-border" role="status"><span class="sr-only">Loading...</span></div></div>',large:!0})})}).then(function(b){return b.getRoot().on(c.hidden,function(){b.destroy()}),b.show(),window.location.href=a+"?component="+f+"&paymentarea="+g+"&itemid="+h+"&description="+encodeURIComponent(i),b}).catch(e.exception)};return{init:function(a,b,c,d){var e=M.cfg.wwwroot+"/payment/gateway/ezpay/redirect.php";f(e,a,b,c,d)},process:f}});
